[gd_scene load_steps=6 format=4 uid="uid://orll6piomgwc"]

[ext_resource type="PackedScene" uid="uid://b1m2yojleotwt" path="res://Scenes/player.tscn" id="1_qjhdv"]
[ext_resource type="Texture2D" uid="uid://dmr0w16p1xtac" path="res://Art/mystic_woods_free_2.2/sprites/tilesets/plains.png" id="2_ocgsu"]
[ext_resource type="PackedScene" uid="uid://bgo4k7br87bv6" path="res://Scenes/npc.tscn" id="3_g5cda"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_r1qto"]
texture = ExtResource("2_ocgsu")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
3:8/0 = 0
4:8/0 = 0
5:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
4:9/0 = 0
5:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
5:10/0 = 0
0:11/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
4:11/0 = 0
5:11/0 = 0

[sub_resource type="TileSet" id="TileSet_mgnms"]
sources/1 = SubResource("TileSetAtlasSource_r1qto")

[node name="World" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_qjhdv")]
position = Vector2(84, -37)
collision_mask = 4

[node name="TileMapLayer" type="TileMapLayer" parent="."]
z_index = -1
tile_map_data = PackedByteArray("AAAAAP3/AQACAAEAAAABAP3/AQACAAEAAAABAP7/AQACAAEAAAACAP7/AQACAAEAAAADAP//AQACAAEAAAAEAP//AQACAAEAAAAFAP//AQACAAEAAAAFAP7/AQACAAEAAAAGAP7/AQACAAEAAAAGAP3/AQACAAEAAAAFAPz/AQACAAEAAAAEAPz/AQACAAEAAAADAPz/AQACAAEAAAACAP3/AQACAAEAAAAAAP7/AQACAAEAAAD/////AQACAAEAAAD+/wAAAQACAAEAAAD+/wEAAQACAAEAAAD+/wIAAQACAAEAAAD//wIAAQACAAEAAAAAAAIAAQACAAEAAAABAAIAAQACAAEAAAACAAEAAQACAAEAAAADAAAAAQACAAEAAAADAP7/AQACAAEAAAADAP3/AQACAAEAAAAAAPz/AQACAAEAAAD///z/AQACAAEAAAD+//z/AQACAAEAAAD9//3/AQACAAEAAAD8//7/AQACAAEAAAD8////AQACAAEAAAD7/wAAAQACAAEAAAD7/wEAAQACAAEAAAD8/wIAAQACAAEAAAD9/wIAAQACAAEAAAD//wEAAQACAAEAAAAAAAAAAQACAAEAAAABAAAAAQACAAEAAAACAAAAAQACAAEAAAAEAP7/AQACAAEAAAAEAP3/AQACAAEAAAACAPv/AQACAAEAAAABAPv/AQACAAEAAAAAAPv/AQACAAEAAAD///v/AQACAAEAAAD9//z/AQACAAEAAAD8//z/AQACAAEAAAD7//3/AQACAAEAAAD6//3/AQACAAEAAAD5//7/AQACAAEAAAD4////AQACAAEAAAD4/wAAAQACAAEAAAD4/wEAAQACAAEAAAD4/wIAAQACAAEAAAD4/wMAAQACAAEAAAD4/wQAAQACAAEAAAD5/wUAAQACAAEAAAD6/wUAAQACAAEAAAD7/wUAAQACAAEAAAD8/wUAAQACAAEAAAD9/wUAAQACAAEAAAD+/wQAAQACAAEAAAD//wMAAQACAAEAAAAAAAEAAQACAAEAAAAAAP//AQACAAEAAAD///r/AQACAAEAAAD+//r/AQACAAEAAAD9//n/AQACAAEAAAD8//j/AQACAAEAAAD7//j/AQACAAEAAAD6//n/AQACAAEAAAD5//n/AQACAAEAAAD4//n/AQACAAEAAAD3//r/AQACAAEAAAD2//v/AQACAAEAAAD1//z/AQACAAEAAAD0//3/AQACAAEAAAD0//7/AQACAAEAAADz////AQACAAEAAADz/wAAAQACAAEAAADz/wEAAQACAAEAAADz/wIAAQACAAEAAAD0/wMAAQACAAEAAAD1/wMAAQACAAEAAAD2/wMAAQACAAEAAAD3/wMAAQACAAEAAAD5/wMAAQACAAEAAAD6/wMAAQACAAEAAAD7/wIAAQACAAEAAAABAAEAAQACAAEAAAAGAP//AQACAAEAAAAHAP7/AQACAAEAAAAIAP7/AQACAAEAAAAJAP3/AQACAAEAAAAKAP3/AQACAAEAAAALAPz/AQACAAEAAAAMAPz/AQACAAEAAAANAPv/AQACAAEAAAANAPr/AQACAAEAAAAOAPn/AQACAAEAAAAOAPj/AQACAAEAAAANAPf/AQACAAEAAAAMAPf/AQACAAEAAAALAPb/AQACAAEAAAAKAPb/AQACAAEAAAAJAPX/AQACAAEAAAAIAPX/AQACAAEAAAAHAPX/AQACAAEAAAAGAPX/AQACAAEAAAAFAPT/AQACAAEAAAAEAPT/AQACAAEAAAADAPT/AQACAAEAAAACAPT/AQACAAEAAAABAPX/AQACAAEAAAAAAPX/AQACAAEAAAD///b/AQACAAEAAAD+//f/AQACAAEAAAD9//f/AQACAAEAAAD7//n/AQACAAEAAAD6//r/AQACAAEAAAD5//v/AQACAAEAAAD5//z/AQACAAEAAAD4//3/AQACAAEAAAD4//7/AQACAAEAAAD6/wYAAQACAAEAAAD7/wYAAQACAAEAAAD8/wYAAQACAAEAAAD9/wYAAQACAAEAAAD+/wYAAQACAAEAAAD//wUAAQACAAEAAAAAAAUAAQACAAEAAAABAAUAAQACAAEAAAACAAUAAQACAAEAAAADAAQAAQACAAEAAAAEAAQAAQACAAEAAAAFAAMAAQACAAEAAAAGAAMAAQACAAEAAAAHAAIAAQACAAEAAAAIAAIAAQACAAEAAAAJAAEAAQACAAEAAAAKAAEAAQACAAEAAAALAAAAAQACAAEAAAAMAAAAAQACAAEAAAANAP//AQACAAEAAAAOAP7/AQACAAEAAAAOAP3/AQACAAEAAAAOAPz/AQACAAEAAAAOAPv/AQACAAEAAAAMAPn/AQACAAEAAAALAPj/AQACAAEAAAAKAPf/AQACAAEAAAAJAPf/AQACAAEAAAAIAPb/AQACAAEAAAAFAPX/AQACAAEAAAABAPT/AQACAAEAAAAAAPT/AQACAAEAAAD///T/AQACAAEAAAD+//T/AQACAAEAAAD9//T/AQACAAEAAAD8//X/AQACAAEAAAD7//b/AQACAAEAAAD7//f/AQACAAEAAAD6//j/AQACAAEAAAD5//r/AQACAAEAAAD3/wEAAQACAAEAAAD3/wIAAQACAAEAAAD3/wQAAQACAAEAAAD3/wUAAQACAAEAAAD3/wYAAQACAAEAAAD3/wcAAQACAAEAAAD4/wgAAQACAAEAAAD4/wkAAQACAAEAAAD5/woAAQACAAEAAAD5/wsAAQACAAEAAAD6/wwAAQACAAEAAAD7/wwAAQACAAEAAAD8/wwAAQACAAEAAAD9/w0AAQACAAEAAAD+/w0AAQACAAEAAAD//w0AAQACAAEAAAAAAAwAAQACAAEAAAABAAwAAQACAAEAAAACAAwAAQACAAEAAAADAAsAAQACAAEAAAAEAAsAAQACAAEAAAAFAAsAAQACAAEAAAAGAAoAAQACAAEAAAAHAAoAAQACAAEAAAAIAAkAAQACAAEAAAAJAAkAAQACAAEAAAAKAAkAAQACAAEAAAALAAgAAQACAAEAAAAMAAgAAQACAAEAAAANAAcAAQACAAEAAAAOAAcAAQACAAEAAAAPAAYAAQACAAEAAAAQAAYAAQACAAEAAAARAAUAAQACAAEAAAASAAQAAQACAAEAAAATAAMAAQACAAEAAAATAAIAAQACAAEAAAASAAEAAQACAAEAAAARAAAAAQACAAEAAAAQAP//AQACAAEAAAAPAP7/AQACAAEAAAANAP3/AQACAAEAAAALAPv/AQACAAEAAAAKAPr/AQACAAEAAAAJAPr/AQACAAEAAAAIAPn/AQACAAEAAAAHAPn/AQACAAEAAAAGAPj/AQACAAEAAAAFAPj/AQACAAEAAAAEAPj/AQACAAEAAAADAPf/AQACAAEAAAACAPf/AQACAAEAAAABAPf/AQACAAEAAAAAAPf/AQACAAEAAAD///j/AQACAAEAAAD+//j/AQACAAEAAAD9//j/AQACAAEAAAD8//n/AQACAAEAAAD7//r/AQACAAEAAAD6//v/AQACAAEAAAD3////AQACAAEAAAD2/wAAAQACAAEAAAD2/wEAAQACAAEAAAA=")
tile_set = SubResource("TileSet_mgnms")

[node name="NPC" parent="." instance=ExtResource("3_g5cda")]

[node name="PatrolState" parent="NPC/FSM" index="0" node_paths=PackedStringArray("waypoints", "player")]
waypoints = [NodePath("../../../wp1"), NodePath("../../../wp2"), NodePath("../../../wp3")]
player = NodePath("../../../Player")

[node name="ChaseState" parent="NPC/FSM" index="1" node_paths=PackedStringArray("player")]
player = NodePath("../../../Player")

[node name="AttackState" parent="NPC/FSM" index="2" node_paths=PackedStringArray("player")]
player = NodePath("../../../Player")

[node name="Timer" type="Timer" parent="NPC/FSM/AttackState" index="0"]

[node name="wp1" type="Node2D" parent="."]
position = Vector2(168, -3)

[node name="wp2" type="Node2D" parent="."]
position = Vector2(161, 114)

[node name="wp3" type="Node2D" parent="."]
position = Vector2(0, 84)

[editable path="NPC"]
